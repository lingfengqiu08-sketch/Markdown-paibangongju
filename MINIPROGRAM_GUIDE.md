# ğŸ“± å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬ - å¼€å‘æŒ‡å—

## ğŸ¯ ä¸ºä»€ä¹ˆå°ç¨‹åºæ›´é€‚åˆï¼Ÿ

### ä¼˜åŠ¿å¯¹æ¯”

| å¯¹æ¯”é¡¹ | å¾®ä¿¡å°ç¨‹åº | åŸç”ŸAPP | PWA |
|--------|-----------|---------|-----|
| **å¼€å‘éš¾åº¦** | â­â­ | â­â­â­â­â­ | â­ |
| **å¼€å‘æ—¶é—´** | 3-5å¤© | 2-4å‘¨ | 1å¤© |
| **ç”¨æˆ·é—¨æ§›** | æ— éœ€ä¸‹è½½ | éœ€è¦ä¸‹è½½å®‰è£… | éœ€è¦æ·»åŠ  |
| **åˆ†äº«ä¼ æ’­** | âœ… å¾®ä¿¡å†…ä¸€é”®åˆ†äº« | âŒ éœ€è¦ä¸‹è½½é“¾æ¥ | âš ï¸ å—é™ |
| **æ¨é€é€šçŸ¥** | âœ… æ¨¡æ¿æ¶ˆæ¯ | âœ… | âš ï¸ å—é™ |
| **æ”¯ä»˜åŠŸèƒ½** | âœ… å¾®ä¿¡æ”¯ä»˜ | éœ€é›†æˆ | éœ€é›†æˆ |
| **å®¡æ ¸å‘¨æœŸ** | 1-3å¤© | 7-14å¤© | æ— éœ€å®¡æ ¸ |
| **ç”¨æˆ·åŸºæ•°** | 12äº¿+ | éœ€æ¨å¹¿ | éœ€æ¨å¹¿ |

### æ ¸å¿ƒä¼˜åŠ¿
âœ… **æ— éœ€ä¸‹è½½** - æ‰«ç å³ç”¨ï¼Œé™ä½ä½¿ç”¨é—¨æ§›
âœ… **æ˜“äºä¼ æ’­** - å¾®ä¿¡å†…åˆ†äº«ï¼Œå¤©ç„¶ç¤¾äº¤å±æ€§
âœ… **å¼€å‘ç®€å•** - ç±»ä¼¼Webå¼€å‘ï¼Œå­¦ä¹ æˆæœ¬ä½
âœ… **æ¨é€æ–¹ä¾¿** - æ¨¡æ¿æ¶ˆæ¯ï¼Œåˆ°è¾¾ç‡é«˜
âœ… **æ”¯ä»˜ä¾¿æ·** - å¾®ä¿¡æ”¯ä»˜é›†æˆç®€å•

---

## ğŸ› ï¸ æŠ€æœ¯æ–¹æ¡ˆé€‰æ‹©

### æ–¹æ¡ˆ1ï¼šåŸç”Ÿå°ç¨‹åºï¼ˆæ¨èï¼‰

**æŠ€æœ¯æ ˆï¼š**
- å‰ç«¯ï¼šWXML + WXSS + JavaScript
- åç«¯ï¼šPython FastAPIï¼ˆå¤ç”¨ç°æœ‰ä»£ç ï¼‰
- æ•°æ®åº“ï¼šMySQL/PostgreSQLï¼ˆäº‘ç«¯ï¼‰
- AIï¼šDeepSeek API

**æ¶æ„å›¾ï¼š**
```
å¾®ä¿¡å°ç¨‹åºå‰ç«¯
      â†“
  FastAPI åç«¯
      â†“
  MySQL æ•°æ®åº“
      â†“
 DeepSeek API
```

---

### æ–¹æ¡ˆ2ï¼šTaro/uni-appï¼ˆè·¨å¹³å°ï¼‰

**æŠ€æœ¯æ ˆï¼š**
- æ¡†æ¶ï¼šTaroï¼ˆReactè¯­æ³•ï¼‰æˆ– uni-appï¼ˆVueè¯­æ³•ï¼‰
- ä¸€æ¬¡å¼€å‘ï¼Œç”Ÿæˆï¼šå¾®ä¿¡/æ”¯ä»˜å®/æŠ–éŸ³/ç™¾åº¦å°ç¨‹åº

**ä¼˜åŠ¿ï¼š**
âœ… ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ
âœ… ä½¿ç”¨ç†Ÿæ‚‰çš„å‰ç«¯æ¡†æ¶
âœ… ç¤¾åŒºæ´»è·ƒï¼Œç»„ä»¶ä¸°å¯Œ

---

## ğŸš€ åŸç”Ÿå°ç¨‹åºå¼€å‘ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

### ç¬¬1æ­¥ï¼šæ³¨å†Œå°ç¨‹åºè´¦å·

1. è®¿é—® [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com)
2. æ³¨å†Œ"å°ç¨‹åº"è´¦å·
3. å®Œæˆä¸»ä½“ä¿¡æ¯è®¤è¯
4. è·å– **AppID**ï¼ˆå¼€å‘å¿…éœ€ï¼‰

**è´¹ç”¨ï¼š**
- ä¸ªäººç‰ˆï¼šå…è´¹
- ä¼ä¸šç‰ˆï¼šÂ¥300/å¹´è®¤è¯è´¹ï¼ˆæ”¯æŒå¾®ä¿¡æ”¯ä»˜ï¼‰

---

### ç¬¬2æ­¥ï¼šå®‰è£…å¼€å‘å·¥å…·

ä¸‹è½½ [å¾®ä¿¡å¼€å‘è€…å·¥å…·](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)

```bash
# macOS å®‰è£…åå¯åŠ¨
open /Applications/wechatwebdevtools.app
```

---

### ç¬¬3æ­¥ï¼šåˆ›å»ºå°ç¨‹åºé¡¹ç›®

**é¡¹ç›®ç»“æ„ï¼š**
```
attention-tracker-miniprogram/
â”œâ”€â”€ pages/                    # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/               # é¦–é¡µï¼ˆè®°å½•æ—¶é—´ï¼‰
â”‚   â”‚   â”œâ”€â”€ index.wxml       # é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ index.wxss       # é¡µé¢æ ·å¼
â”‚   â”‚   â”œâ”€â”€ index.js         # é¡µé¢é€»è¾‘
â”‚   â”‚   â””â”€â”€ index.json       # é¡µé¢é…ç½®
â”‚   â”œâ”€â”€ data/                # æ•°æ®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ data.wxml
â”‚   â”‚   â”œâ”€â”€ data.wxss
â”‚   â”‚   â”œâ”€â”€ data.js
â”‚   â”‚   â””â”€â”€ data.json
â”‚   â””â”€â”€ analysis/            # AIåˆ†æé¡µé¢
â”‚       â”œâ”€â”€ analysis.wxml
â”‚       â”œâ”€â”€ analysis.wxss
â”‚       â”œâ”€â”€ analysis.js
â”‚       â””â”€â”€ analysis.json
â”œâ”€â”€ components/              # ç»„ä»¶ç›®å½•
â”‚   â””â”€â”€ task-card/          # ä»»åŠ¡å¡ç‰‡ç»„ä»¶
â”‚       â”œâ”€â”€ task-card.wxml
â”‚       â”œâ”€â”€ task-card.wxss
â”‚       â”œâ”€â”€ task-card.js
â”‚       â””â”€â”€ task-card.json
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.js              # APIå°è£…
â”‚   â””â”€â”€ util.js             # é€šç”¨å·¥å…·
â”œâ”€â”€ app.js                   # å°ç¨‹åºé€»è¾‘
â”œâ”€â”€ app.json                 # å…¨å±€é…ç½®
â”œâ”€â”€ app.wxss                 # å…¨å±€æ ·å¼
â””â”€â”€ project.config.json      # é¡¹ç›®é…ç½®
```

---

### ç¬¬4æ­¥ï¼šå¼€å‘æ ¸å¿ƒé¡µé¢

#### 4.1 é¦–é¡µ - è®°å½•æ—¶é—´ (pages/index/index.wxml)

```xml
<!-- é¡¶éƒ¨æ—¶é—´æ®µæ˜¾ç¤º -->
<view class="time-range">
  <text class="time-text">{{lastHourStart}} - {{lastHourEnd}}</text>
  <text class="time-desc">åˆšæ‰è¿™1å°æ—¶ä½ åœ¨åšä»€ä¹ˆï¼Ÿ</text>
</view>

<!-- ä»»åŠ¡å¡ç‰‡ç½‘æ ¼ -->
<view class="task-grid">
  <block wx:for="{{tasks}}" wx:key="id">
    <view class="task-card"
          style="background-color: {{item.color}}20; border-left: 4px solid {{item.color}}"
          bindtap="selectTask"
          data-task="{{item}}">
      <text class="task-icon">{{item.icon}}</text>
      <text class="task-name">{{item.name}}</text>
    </view>
  </block>
</view>

<!-- å¿«é€Ÿæ·»åŠ æŒ‰é’® -->
<view class="quick-add" bindtap="showAddDialog">
  <text class="add-icon">+</text>
  <text>æ·»åŠ ä»»åŠ¡</text>
</view>

<!-- ä¸“æ³¨åº¦é€‰æ‹©å¼¹çª— -->
<view class="modal" wx:if="{{showFocusModal}}">
  <view class="modal-content">
    <view class="modal-title">é€‰æ‹©ä¸“æ³¨åº¦</view>
    <view class="focus-options">
      <view class="focus-item" bindtap="confirmRecord" data-level="high">
        <text class="focus-emoji">ğŸ˜Š</text>
        <text>é«˜ä¸“æ³¨</text>
      </view>
      <view class="focus-item" bindtap="confirmRecord" data-level="medium">
        <text class="focus-emoji">ğŸ˜</text>
        <text>ä¸­ä¸“æ³¨</text>
      </view>
      <view class="focus-item" bindtap="confirmRecord" data-level="low">
        <text class="focus-emoji">ğŸ˜¢</text>
        <text>ä½ä¸“æ³¨</text>
      </view>
    </view>
    <view class="modal-footer">
      <button bindtap="cancelRecord">å–æ¶ˆ</button>
    </view>
  </view>
</view>
```

#### 4.2 é¦–é¡µé€»è¾‘ (pages/index/index.js)

```javascript
const app = getApp()
const api = require('../../utils/api.js')

Page({
  data: {
    tasks: [],
    lastHourStart: '',
    lastHourEnd: '',
    showFocusModal: false,
    selectedTask: null
  },

  onLoad() {
    this.loadTasks()
    this.calculateTimeRange()
  },

  // åŠ è½½ä»»åŠ¡åˆ—è¡¨
  async loadTasks() {
    try {
      const res = await api.getTasks()
      this.setData({ tasks: res.data })
    } catch (err) {
      wx.showToast({ title: 'åŠ è½½å¤±è´¥', icon: 'none' })
    }
  },

  // è®¡ç®—ä¸Šä¸€å°æ—¶æ—¶é—´æ®µ
  calculateTimeRange() {
    const now = new Date()
    const lastHour = new Date(now.getTime() - 3600000)

    const start = this.formatTime(lastHour)
    const end = this.formatTime(now)

    this.setData({
      lastHourStart: start,
      lastHourEnd: end
    })
  },

  formatTime(date) {
    const h = date.getHours().toString().padStart(2, '0')
    const m = date.getMinutes().toString().padStart(2, '0')
    return `${h}:${m}`
  },

  // é€‰æ‹©ä»»åŠ¡
  selectTask(e) {
    const task = e.currentTarget.dataset.task
    this.setData({
      selectedTask: task,
      showFocusModal: true
    })
  },

  // ç¡®è®¤è®°å½•
  async confirmRecord(e) {
    const focusLevel = e.currentTarget.dataset.level
    const { selectedTask } = this.data

    wx.showLoading({ title: 'ä¿å­˜ä¸­...' })

    try {
      await api.saveRecord({
        task_type: selectedTask.name,
        task_icon: selectedTask.icon,
        focus_level: focusLevel,
        start_time: this.data.lastHourStart,
        end_time: this.data.lastHourEnd,
        duration: 60
      })

      wx.hideLoading()
      wx.showToast({ title: 'è®°å½•æˆåŠŸï¼', icon: 'success' })

      this.setData({ showFocusModal: false })

      // è·³è½¬åˆ°æ•°æ®é¡µé¢
      setTimeout(() => {
        wx.switchTab({ url: '/pages/data/data' })
      }, 1500)

    } catch (err) {
      wx.hideLoading()
      wx.showToast({ title: 'ä¿å­˜å¤±è´¥', icon: 'none' })
    }
  },

  // å–æ¶ˆè®°å½•
  cancelRecord() {
    this.setData({ showFocusModal: false })
  },

  // æ˜¾ç¤ºæ·»åŠ å¯¹è¯æ¡†
  showAddDialog() {
    wx.navigateTo({ url: '/pages/add-task/add-task' })
  }
})
```

#### 4.3 é¦–é¡µæ ·å¼ (pages/index/index.wxss)

```css
/* æ—¶é—´æ®µæ˜¾ç¤º */
.time-range {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 40rpx 30rpx;
  text-align: center;
  color: white;
}

.time-text {
  display: block;
  font-size: 48rpx;
  font-weight: bold;
  margin-bottom: 10rpx;
}

.time-desc {
  font-size: 28rpx;
  opacity: 0.9;
}

/* ä»»åŠ¡å¡ç‰‡ç½‘æ ¼ */
.task-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20rpx;
  padding: 30rpx;
}

.task-card {
  background: white;
  border-radius: 16rpx;
  padding: 40rpx 20rpx;
  text-align: center;
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);
  transition: all 0.3s;
}

.task-card:active {
  transform: scale(0.95);
}

.task-icon {
  display: block;
  font-size: 60rpx;
  margin-bottom: 10rpx;
}

.task-name {
  display: block;
  font-size: 28rpx;
  color: #333;
}

/* å¿«é€Ÿæ·»åŠ  */
.quick-add {
  position: fixed;
  bottom: 100rpx;
  right: 30rpx;
  background: #667eea;
  color: white;
  padding: 20rpx 30rpx;
  border-radius: 50rpx;
  box-shadow: 0 8rpx 16rpx rgba(102, 126, 234, 0.3);
  display: flex;
  align-items: center;
  gap: 10rpx;
}

.add-icon {
  font-size: 36rpx;
  font-weight: bold;
}

/* å¼¹çª— */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.modal-content {
  background: white;
  width: 80%;
  border-radius: 16rpx;
  padding: 40rpx;
}

.modal-title {
  font-size: 32rpx;
  font-weight: bold;
  text-align: center;
  margin-bottom: 30rpx;
}

.focus-options {
  display: flex;
  justify-content: space-around;
  margin-bottom: 30rpx;
}

.focus-item {
  text-align: center;
  padding: 20rpx;
  border-radius: 12rpx;
  background: #f5f5f5;
}

.focus-emoji {
  display: block;
  font-size: 48rpx;
  margin-bottom: 10rpx;
}
```

---

### ç¬¬5æ­¥ï¼šAPI å°è£… (utils/api.js)

```javascript
// é…ç½®
const BASE_URL = 'https://your-api.com/api'  // ä½ çš„åç«¯APIåœ°å€
const TIMEOUT = 10000

// è¯·æ±‚å°è£…
function request(url, method = 'GET', data = {}) {
  return new Promise((resolve, reject) => {
    wx.request({
      url: BASE_URL + url,
      method,
      data,
      timeout: TIMEOUT,
      header: {
        'Content-Type': 'application/json',
        // å¦‚æœéœ€è¦ç™»å½•ï¼Œæ·»åŠ  token
        // 'Authorization': 'Bearer ' + wx.getStorageSync('token')
      },
      success(res) {
        if (res.statusCode === 200) {
          resolve(res.data)
        } else {
          reject(new Error('è¯·æ±‚å¤±è´¥'))
        }
      },
      fail(err) {
        reject(err)
      }
    })
  })
}

// å¯¼å‡º API
module.exports = {
  // è·å–ä»»åŠ¡åˆ—è¡¨
  getTasks() {
    return request('/tasks')
  },

  // ä¿å­˜è®°å½•
  saveRecord(data) {
    return request('/records', 'POST', data)
  },

  // è·å–ä»Šæ—¥è®°å½•
  getTodayRecords() {
    return request('/records/today')
  },

  // ç”Ÿæˆ AI åˆ†æ
  getAIAnalysis() {
    return request('/analysis/daily')
  },

  // æ·»åŠ ä»»åŠ¡
  addTask(data) {
    return request('/tasks', 'POST', data)
  },

  // æ›´æ–°ä»»åŠ¡
  updateTask(id, data) {
    return request(`/tasks/${id}`, 'PUT', data)
  },

  // åˆ é™¤ä»»åŠ¡
  deleteTask(id) {
    return request(`/tasks/${id}`, 'DELETE')
  }
}
```

---

### ç¬¬6æ­¥ï¼šåç«¯ API å¼€å‘ï¼ˆFastAPIï¼‰

åˆ›å»º `backend/main.py`ï¼š

```python
from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel
from datetime import datetime
from typing import List, Optional
import uvicorn

# å¤ç”¨ç°æœ‰çš„æ•°æ®åº“æ¨¡å—
from database import *
from ai_analysis import get_daily_analysis

app = FastAPI(title="æ³¨æ„åŠ›è¿½è¸ª API")

# å…è®¸å°ç¨‹åºè·¨åŸŸ
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# ========== æ•°æ®æ¨¡å‹ ==========

class Task(BaseModel):
    name: str
    icon: str = "ğŸ“"
    color: str = "#3B82F6"
    description: str = ""

class Record(BaseModel):
    task_type: str
    task_icon: str
    focus_level: str
    start_time: str
    end_time: str
    duration: int
    notes: str = ""

# ========== API è·¯ç”± ==========

@app.get("/")
def read_root():
    return {"message": "æ³¨æ„åŠ›è¿½è¸ª API è¿è¡Œä¸­"}

# è·å–æ‰€æœ‰ä»»åŠ¡
@app.get("/api/tasks")
def get_tasks():
    init_database()
    tasks = get_all_task_types()
    return {"code": 0, "data": tasks}

# æ·»åŠ ä»»åŠ¡
@app.post("/api/tasks")
def create_task(task: Task):
    task_id = add_task_type(
        task.name,
        task.icon,
        task.color,
        task.description
    )
    if task_id:
        return {"code": 0, "message": "æ·»åŠ æˆåŠŸ", "data": {"id": task_id}}
    else:
        raise HTTPException(status_code=400, detail="ä»»åŠ¡åç§°å·²å­˜åœ¨")

# ä¿å­˜è®°å½•
@app.post("/api/records")
def create_record(record: Record):
    # è½¬æ¢æ—¶é—´æ ¼å¼
    start_time = datetime.strptime(record.start_time, "%H:%M")
    end_time = datetime.strptime(record.end_time, "%H:%M")

    # è®¾ç½®ä¸ºä»Šå¤©çš„æ—¶é—´
    now = datetime.now()
    start_time = start_time.replace(year=now.year, month=now.month, day=now.day)
    end_time = end_time.replace(year=now.year, month=now.month, day=now.day)

    save_record(
        start_time,
        end_time,
        record.task_type,
        record.task_icon,
        record.focus_level,
        record.notes
    )

    return {"code": 0, "message": "è®°å½•æˆåŠŸ"}

# è·å–ä»Šæ—¥è®°å½•
@app.get("/api/records/today")
def get_today():
    records = get_today_records()
    return {"code": 0, "data": records}

# ç”Ÿæˆ AI åˆ†æ
@app.get("/api/analysis/daily")
def daily_analysis():
    records = get_today_records()
    if not records:
        return {"code": 0, "data": "æš‚æ— æ•°æ®"}

    analysis = get_daily_analysis(records)
    return {"code": 0, "data": analysis}

# å¯åŠ¨æœåŠ¡å™¨
if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

**å¯åŠ¨åç«¯ï¼š**
```bash
# å®‰è£… FastAPI
pip install fastapi uvicorn

# å¯åŠ¨
python backend/main.py

# API åœ°å€: http://localhost:8000
```

---

### ç¬¬7æ­¥ï¼šæ•°æ®é¡µé¢ (pages/data/data.wxml)

```xml
<view class="container">
  <!-- æ—¥æœŸé€‰æ‹© -->
  <view class="date-picker">
    <picker mode="date" value="{{currentDate}}" bindchange="onDateChange">
      <view class="picker-text">
        <text class="date-icon">ğŸ“…</text>
        <text>{{currentDate}}</text>
      </view>
    </picker>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-cards">
    <view class="stat-card">
      <text class="stat-value">{{totalHours}}</text>
      <text class="stat-label">æ€»æ—¶é•¿ï¼ˆå°æ—¶ï¼‰</text>
    </view>
    <view class="stat-card">
      <text class="stat-value">{{recordCount}}</text>
      <text class="stat-label">è®°å½•æ¬¡æ•°</text>
    </view>
    <view class="stat-card">
      <text class="stat-value">{{focusRate}}%</text>
      <text class="stat-label">é«˜ä¸“æ³¨å æ¯”</text>
    </view>
  </view>

  <!-- æ—¶é—´è½´ -->
  <view class="timeline">
    <view class="timeline-title">ä»Šæ—¥æ—¶é—´è½´</view>
    <block wx:for="{{records}}" wx:key="id">
      <view class="timeline-item">
        <view class="timeline-time">{{item.start_time}}</view>
        <view class="timeline-dot" style="background: {{item.color}}"></view>
        <view class="timeline-content">
          <view class="timeline-task">
            <text>{{item.task_icon}} {{item.task_type}}</text>
            <text class="timeline-focus">{{item.focus_emoji}}</text>
          </view>
          <view class="timeline-duration">{{item.duration}}åˆ†é’Ÿ</view>
          <view class="timeline-notes" wx:if="{{item.notes}}">ğŸ’¬ {{item.notes}}</view>
        </view>
      </view>
    </block>
  </view>
</view>
```

---

### ç¬¬8æ­¥ï¼šAI åˆ†æé¡µé¢ (pages/analysis/analysis.wxml)

```xml
<view class="container">
  <!-- å¿«é€Ÿæç¤º -->
  <view class="tips-section">
    <view class="section-title">ğŸ’¡ ä»Šæ—¥æç¤º</view>
    <block wx:for="{{tips}}" wx:key="index">
      <view class="tip-card">{{item}}</view>
    </block>
  </view>

  <!-- AI åˆ†ææŒ‰é’® -->
  <view class="analysis-section">
    <view class="section-title">ğŸ“Š AI æ·±åº¦åˆ†æ</view>
    <button
      class="analysis-btn"
      bindtap="generateAnalysis"
      loading="{{loading}}"
      disabled="{{loading}}">
      {{loading ? 'AI æ­£åœ¨åˆ†æä¸­...' : 'ğŸš€ ç”Ÿæˆ AI åˆ†æ'}}
    </button>
  </view>

  <!-- åˆ†æç»“æœ -->
  <view class="result-section" wx:if="{{analysisResult}}">
    <rich-text nodes="{{analysisHtml}}"></rich-text>
  </view>

  <!-- API é…ç½®è¯´æ˜ -->
  <view class="config-section">
    <view class="config-title" bindtap="toggleConfig">
      âš™ï¸ API é…ç½®è¯´æ˜
      <text class="arrow">{{showConfig ? 'â–¼' : 'â–¶'}}</text>
    </view>
    <view class="config-content" wx:if="{{showConfig}}">
      <text>éœ€è¦é…ç½® DeepSeek API Key</text>
      <text>æ¯æ¬¡åˆ†æçº¦ Â¥0.001</text>
      <text>è®¿é—® platform.deepseek.com è·å–</text>
    </view>
  </view>
</view>
```

**AI åˆ†æé€»è¾‘ (pages/analysis/analysis.js):**

```javascript
const api = require('../../utils/api.js')
const towxml = require('../../towxml/index')  // Markdown æ¸²æŸ“åº“

Page({
  data: {
    tips: [],
    loading: false,
    analysisResult: '',
    analysisHtml: '',
    showConfig: false
  },

  onLoad() {
    this.loadTips()
  },

  // åŠ è½½å¿«é€Ÿæç¤º
  loadTips() {
    // å‰ç«¯ç®€å•åˆ¤æ–­é€»è¾‘
    this.setData({
      tips: [
        'ğŸ’¡ å¼€å§‹è®°å½•ä½ çš„æ—¶é—´ï¼Œäº†è§£æ—¶é—´éƒ½å»å“ªäº†',
        'ğŸ¯ è®¾å®šä»Šå¤©çš„ä¼˜å…ˆä»»åŠ¡ï¼Œä¸“æ³¨å®Œæˆ3ä»¶é‡è¦çš„äº‹',
        'â° ä½¿ç”¨ç•ªèŒ„å·¥ä½œæ³•ï¼Œ25åˆ†é’Ÿä¸“æ³¨ + 5åˆ†é’Ÿä¼‘æ¯'
      ]
    })
  },

  // ç”Ÿæˆ AI åˆ†æ
  async generateAnalysis() {
    this.setData({ loading: true })

    try {
      const res = await api.getAIAnalysis()

      // å°† Markdown è½¬æ¢ä¸º HTML
      const result = towxml(res.data, 'markdown')

      this.setData({
        analysisResult: res.data,
        analysisHtml: result,
        loading: false
      })

      wx.showToast({ title: 'åˆ†æå®Œæˆï¼', icon: 'success' })

    } catch (err) {
      this.setData({ loading: false })
      wx.showModal({
        title: 'åˆ†æå¤±è´¥',
        content: err.message || 'è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥',
        showCancel: false
      })
    }
  },

  // åˆ‡æ¢é…ç½®è¯´æ˜
  toggleConfig() {
    this.setData({ showConfig: !this.data.showConfig })
  }
})
```

---

### ç¬¬9æ­¥ï¼šå…¨å±€é…ç½® (app.json)

```json
{
  "pages": [
    "pages/index/index",
    "pages/data/data",
    "pages/analysis/analysis",
    "pages/add-task/add-task"
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#667eea",
    "navigationBarTitleText": "æ³¨æ„åŠ›è¿½è¸ª",
    "navigationBarTextStyle": "white",
    "backgroundColor": "#f5f5f5"
  },
  "tabBar": {
    "color": "#999",
    "selectedColor": "#667eea",
    "backgroundColor": "#ffffff",
    "borderStyle": "black",
    "list": [
      {
        "pagePath": "pages/index/index",
        "text": "è®°å½•",
        "iconPath": "images/record.png",
        "selectedIconPath": "images/record-active.png"
      },
      {
        "pagePath": "pages/data/data",
        "text": "æ•°æ®",
        "iconPath": "images/data.png",
        "selectedIconPath": "images/data-active.png"
      },
      {
        "pagePath": "pages/analysis/analysis",
        "text": "AIåˆ†æ",
        "iconPath": "images/ai.png",
        "selectedIconPath": "images/ai-active.png"
      }
    ]
  },
  "sitemapLocation": "sitemap.json"
}
```

---

### ç¬¬10æ­¥ï¼šéƒ¨ç½²åç«¯åˆ°äº‘æœåŠ¡å™¨

#### é€‰é¡¹1ï¼šè…¾è®¯äº‘ï¼ˆæ¨èå¾®ä¿¡å°ç¨‹åºï¼‰

```bash
# 1. è´­ä¹°äº‘æœåŠ¡å™¨ï¼ˆæœ€ä½é…ç½® 2æ ¸2Gï¼Œçº¦Â¥100/å¹´ï¼‰

# 2. å®‰è£…ç¯å¢ƒ
ssh root@your-server-ip
apt update
apt install python3 python3-pip nginx

# 3. ä¸Šä¼ ä»£ç 
scp -r backend/ root@your-server-ip:/home/

# 4. å®‰è£…ä¾èµ–
cd /home/backend
pip3 install -r requirements.txt

# 5. ä½¿ç”¨ supervisor å®ˆæŠ¤è¿›ç¨‹
apt install supervisor
nano /etc/supervisor/conf.d/attention-tracker.conf

# é…ç½®å†…å®¹ï¼š
[program:attention-tracker]
command=/usr/bin/python3 /home/backend/main.py
autostart=true
autorestart=true
stderr_logfile=/var/log/attention-tracker.err.log
stdout_logfile=/var/log/attention-tracker.out.log

# 6. å¯åŠ¨
supervisorctl reread
supervisorctl update
supervisorctl start attention-tracker

# 7. é…ç½® Nginx åå‘ä»£ç†
nano /etc/nginx/sites-available/attention-tracker

# Nginx é…ç½®ï¼š
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}

# 8. å¯ç”¨é…ç½®
ln -s /etc/nginx/sites-available/attention-tracker /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx

# 9. é…ç½® HTTPSï¼ˆå¾®ä¿¡å°ç¨‹åºå¿…éœ€ï¼‰
apt install certbot python3-certbot-nginx
certbot --nginx -d your-domain.com

# API åœ°å€: https://your-domain.com
```

#### é€‰é¡¹2ï¼šä½¿ç”¨äº‘å‡½æ•°ï¼ˆServerlessï¼Œæ›´ä¾¿å®œï¼‰

**è…¾è®¯äº‘äº‘å‡½æ•°ï¼š**
- å…è´¹é¢åº¦ï¼šæ¯æœˆ 100ä¸‡æ¬¡è°ƒç”¨
- é€‚åˆå°ç¨‹åºåç«¯
- æŒ‰éœ€ä»˜è´¹ï¼Œæˆæœ¬æä½

---

## ğŸ“Š å¼€å‘æ—¶é—´è¡¨

| é˜¶æ®µ | ä»»åŠ¡ | æ—¶é—´ |
|------|------|------|
| Day 1 | æ³¨å†Œå°ç¨‹åº + ç¯å¢ƒæ­å»º | 2å°æ—¶ |
| Day 2 | é¦–é¡µå¼€å‘ï¼ˆè®°å½•åŠŸèƒ½ï¼‰ | 4å°æ—¶ |
| Day 3 | æ•°æ®é¡µé¢ + AIåˆ†æé¡µé¢ | 4å°æ—¶ |
| Day 4 | åç«¯APIå¼€å‘ | 4å°æ—¶ |
| Day 5 | è”è°ƒæµ‹è¯• + ä¼˜åŒ– | 4å°æ—¶ |
| Day 6 | éƒ¨ç½²ä¸Šçº¿ + æäº¤å®¡æ ¸ | 2å°æ—¶ |
| **æ€»è®¡** | | **3-5å¤©** |

---

## ğŸ’° æˆæœ¬é¢„ç®—

| é¡¹ç›® | è´¹ç”¨ | è¯´æ˜ |
|------|------|------|
| å°ç¨‹åºæ³¨å†Œ | Â¥0 or Â¥300 | ä¸ªäººå…è´¹ï¼Œä¼ä¸šÂ¥300/å¹´ |
| äº‘æœåŠ¡å™¨ | Â¥100-300/å¹´ | è…¾è®¯äº‘/é˜¿é‡Œäº‘ |
| åŸŸå | Â¥50/å¹´ | .com åŸŸå |
| SSLè¯ä¹¦ | Â¥0 | Let's Encrypt å…è´¹ |
| DeepSeek API | Â¥10 | é¦–æ¬¡èµ é€Â¥10 |
| **æ€»è®¡** | **Â¥160-360/å¹´** | ä¼ä¸šç‰ˆçº¦Â¥460/å¹´ |

---

## ğŸ¯ æˆ‘çš„æ¨èæ–¹æ¡ˆ

### æœ€å¿«è·¯å¾„ï¼ˆé»‘å®¢æ¾é€‚ç”¨ï¼‰

**Day 1-2: å¿«é€ŸåŸå‹**
1. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·åˆ›å»ºé¡¹ç›®
2. å¼€å‘é¦–é¡µï¼ˆè®°å½•åŠŸèƒ½ï¼‰
3. åç«¯ç›´æ¥ç”¨ç°æœ‰ `app.py`ï¼ˆStreamlitï¼‰ä½œä¸ºAPI

**Day 3: å®Œå–„åŠŸèƒ½**
1. å¼€å‘æ•°æ®é¡µé¢
2. æ¥å…¥ AI åˆ†æ

**Day 4-5: ä¼˜åŒ–å‘å¸ƒ**
1. UI/UX ä¼˜åŒ–
2. æäº¤å®¡æ ¸

### æŠ€æœ¯é€‰å‹å»ºè®®

âœ… **å‰ç«¯**: åŸç”Ÿå°ç¨‹åºï¼ˆå­¦ä¹ æ›²çº¿ä½ï¼‰
âœ… **åç«¯**: FastAPIï¼ˆå¤ç”¨ç°æœ‰Pythonä»£ç ï¼‰
âœ… **æ•°æ®åº“**: SQLite â†’ MySQLï¼ˆéƒ¨ç½²åå‡çº§ï¼‰
âœ… **AI**: DeepSeek APIï¼ˆæˆæœ¬ä½ï¼‰
âœ… **éƒ¨ç½²**: è…¾è®¯äº‘ï¼ˆä¸å¾®ä¿¡ç”Ÿæ€é›†æˆå¥½ï¼‰

---

## ğŸš€ ç«‹å³å¼€å§‹

### ç¬¬1æ­¥ï¼šç°åœ¨å°±æ³¨å†Œå°ç¨‹åºè´¦å·
è®¿é—® https://mp.weixin.qq.com æ³¨å†Œ

### ç¬¬2æ­¥ï¼šä¸‹è½½å¼€å‘å·¥å…·
https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

### ç¬¬3æ­¥ï¼šåˆ›å»ºé¡¹ç›®
ä½¿ç”¨æˆ‘æä¾›çš„ä»£ç æ¨¡æ¿å¼€å§‹å¼€å‘

---

## ğŸ“± é¢å¤–ç¦åˆ©ï¼šæ”¯ä»˜å®/æŠ–éŸ³å°ç¨‹åº

å¦‚æœä½¿ç”¨ **uni-app** æˆ– **Taro** å¼€å‘ï¼Œä¸€å¥—ä»£ç å¯ä»¥ç”Ÿæˆï¼š

- âœ… å¾®ä¿¡å°ç¨‹åº
- âœ… æ”¯ä»˜å®å°ç¨‹åº
- âœ… æŠ–éŸ³å°ç¨‹åº
- âœ… ç™¾åº¦å°ç¨‹åº
- âœ… QQ å°ç¨‹åº
- âœ… H5 ç½‘é¡µç‰ˆ

**è¦†ç›– 15äº¿+ ç”¨æˆ·ï¼**

---

## ğŸ‰ æ€»ç»“

### å°ç¨‹åº vs APP vs PWA

| ç»´åº¦ | å°ç¨‹åº | åŸç”ŸAPP | PWA |
|------|--------|---------|-----|
| å¼€å‘æ—¶é—´ | â­â­â­â­â­ | â­ | â­â­â­â­â­ |
| ç”¨æˆ·é—¨æ§› | â­â­â­â­â­ | â­ | â­â­â­ |
| ä¼ æ’­èƒ½åŠ› | â­â­â­â­â­ | â­â­ | â­â­ |
| ç”¨æˆ·ä½“éªŒ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| å¼€å‘æˆæœ¬ | ä½ | é«˜ | æä½ |

### æ¨èè·¯çº¿

```
ç¬¬1é˜¶æ®µï¼ˆé»‘å®¢æ¾ï¼‰: å¾®ä¿¡å°ç¨‹åº
        â†“
ç¬¬2é˜¶æ®µï¼ˆäº§å“åŒ–ï¼‰: uni-app å¤šç«¯å°ç¨‹åº
        â†“
ç¬¬3é˜¶æ®µï¼ˆè§„æ¨¡åŒ–ï¼‰: Flutter åŸç”ŸAPP
```

**å°ç¨‹åºç¡®å®æ˜¯å½“å‰æœ€ä½³é€‰æ‹©ï¼3-5å¤©å°±èƒ½ä¸Šçº¿ï¼ğŸš€**
